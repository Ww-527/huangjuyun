
import streamlit as st

# è®¾ç½®é¡µé¢æ ‡é¢˜ä¸º"ç›¸å†Œ"ï¼Œé¡µé¢å›¾æ ‡ä¸ºè›‹ç³•emoji
st.set_page_config(page_title="ç›¸å†Œ",page_icon="ğŸ°")

# åœ¨é¡µé¢ä¸­æ˜¾ç¤ºä¸€çº§æ ‡é¢˜ï¼Œé¡µé¢ä¸»æ ‡é¢˜
st.title("æˆ‘çš„ç›¸å†ŒğŸ“·")

# æ£€æŸ¥ä¼šè¯çŠ¶æ€ï¼ˆsession_stateï¼‰ä¸­æ˜¯å¦å­˜åœ¨é”®å'ind'ï¼ˆç”¨äºè®°å½•å½“å‰æ˜¾ç¤ºå›¾ç‰‡çš„ç´¢å¼•ï¼‰
# è‹¥ä¸å­˜åœ¨è¯¥é”®ï¼Œåˆå§‹åŒ–'ind'çš„å€¼ä¸º0ï¼ˆé»˜è®¤æ˜¾ç¤ºç¬¬ä¸€å¼ å›¾ç‰‡ï¼‰
if 'ind' not in st.session_state:
     st.session_state['ind']=0

# å®šä¹‰å›¾ç‰‡æ•°æ®åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå­—å…¸ï¼ŒåŒ…å«å›¾ç‰‡çš„ç½‘ç»œåœ°å€ï¼ˆurlï¼‰å’Œæè¿°æ–‡æœ¬ï¼ˆtextï¼‰
images=[
       {
         # è‰è“è›‹ç³•å›¾ç‰‡çš„ç½‘ç»œURLåœ°å€
         'url':"https://img95.699pic.com/photo/40243/6994.jpg_wh860.jpg",
         # è¯¥å›¾ç‰‡çš„æè¿°æ–‡æœ¬ï¼Œä½œä¸ºå›¾ç‰‡ä¸‹æ–¹çš„è¯´æ˜æ–‡å­—
         'text':'è‰è“è›‹ç³•'
        },
       {
         # èŠ’æœè›‹ç³•å›¾ç‰‡çš„ç½‘ç»œURLåœ°å€
         'url':"http://wdmcake.cn/images/upload/Image/750_576.jpg",
         # èŠ’æœè›‹ç³•å›¾ç‰‡çš„æè¿°æ–‡æœ¬
         'text':'èŠ’æœè›‹ç³•'
        },
        {
         # å·§å…‹åŠ›è›‹ç³•å›¾ç‰‡çš„ç½‘ç»œURLåœ°å€
         'url':"https://img95.699pic.com/photo/60058/4401.jpg_wh860.jpg",
         # å·§å…‹åŠ›è›‹ç³•å›¾ç‰‡çš„æè¿°æ–‡æœ¬
         'text':'å·§å…‹åŠ›è›‹ç³•'
        }
    ]

# æ ¹æ®ä¼šè¯çŠ¶æ€ä¸­è®°å½•çš„ç´¢å¼•ï¼ˆindï¼‰ï¼Œæ˜¾ç¤ºå¯¹åº”å›¾ç‰‡ï¼š
# ç¬¬ä¸€ä¸ªå‚æ•°ï¼šä»imagesåˆ—è¡¨ä¸­è·å–å¯¹åº”ç´¢å¼•çš„å›¾ç‰‡URL
# captionå‚æ•°ï¼šè®¾ç½®å›¾ç‰‡ä¸‹æ–¹çš„è¯´æ˜æ–‡å­—ï¼Œå–å¯¹åº”ç´¢å¼•çš„textå€¼
st.image(images[st.session_state['ind']]['url'],caption=images[st.session_state['ind']]['text'])

# å®šä¹‰"ä¸‹ä¸€å¼ "å›¾ç‰‡çš„åˆ‡æ¢å‡½æ•°ï¼Œä¾›æŒ‰é’®ç‚¹å‡»æ—¶è°ƒç”¨
def nextImg():
    # æ›´æ–°ç´¢å¼•ï¼šå½“å‰ç´¢å¼•+1åå¯¹å›¾ç‰‡æ€»æ•°å–æ¨¡ï¼Œå®ç°å¾ªç¯åˆ‡æ¢ï¼ˆæœ€åä¸€å¼ ååˆ‡å›ç¬¬ä¸€å¼ ï¼‰
    st.session_state['ind']=(st.session_state['ind']+1)%len(images)

# å®šä¹‰"ä¸Šä¸€å¼ "å›¾ç‰‡çš„åˆ‡æ¢å‡½æ•°ï¼ˆæ³¨ï¼šå½“å‰é€»è¾‘ä¸nextImgä¸€è‡´ï¼Œéœ€ä¿®æ­£æ‰èƒ½å®ç°çœŸæ­£çš„ä¸Šä¸€å¼ ï¼‰
def fanhuiImg():
    # æ­¤å¤„é€»è¾‘é”™è¯¯ï¼Œæ­£ç¡®åº”ä¸º st.session_state['ind']=(st.session_state['ind']-1)%len(images)
    st.session_state['ind']=(st.session_state['ind']-1)%len(images)

# åˆ›å»ºä¸¤åˆ—å¸ƒå±€ï¼ˆc1ä¸ºå·¦åˆ—ï¼Œc2ä¸ºå³åˆ—ï¼‰ï¼Œç”¨äºæ”¾ç½®"ä¸Šä¸€å¼ "å’Œ"ä¸‹ä¸€å¼ "æŒ‰é’®
c1,c2=st.columns(2)

# å°†"ä¸Šä¸€å¼ "æŒ‰é’®æ”¾ç½®åœ¨å·¦åˆ—ï¼ˆc1ï¼‰ä¸­
with c1:
    # åˆ›å»º"ä¸Šä¸€å¼ "æŒ‰é’®ï¼š
    # ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæŒ‰é’®æ˜¾ç¤ºçš„æ–‡æœ¬
    # on_clickå‚æ•°ï¼šæŒ‰é’®ç‚¹å‡»æ—¶è§¦å‘çš„å‡½æ•°
    # use_container_widthå‚æ•°ï¼šæŒ‰é’®å®½åº¦é€‚é…åˆ—å®½
    st.button("ä¸Šä¸€å¼ ",on_click=fanhuiImg,use_container_width=True)

# å°†"ä¸‹ä¸€å¼ "æŒ‰é’®æ”¾ç½®åœ¨å³åˆ—ï¼ˆc2ï¼‰ä¸­
with c2:
    # åˆ›å»º"ä¸‹ä¸€å¼ "æŒ‰é’®ï¼š
    # ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæŒ‰é’®æ˜¾ç¤ºçš„æ–‡æœ¬
    # on_clickå‚æ•°ï¼šæŒ‰é’®ç‚¹å‡»æ—¶è§¦å‘çš„å‡½æ•°ï¼ˆç»‘å®šnextImgï¼‰
    # use_container_widthå‚æ•°ï¼šæŒ‰é’®å®½åº¦é€‚é…åˆ—å®½
    st.button("ä¸‹ä¸€å¼ ",on_click=nextImg,use_container_width=True)
